<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Шоколадная фабрика</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico"/>
    <link rel="stylesheet" href="style/main.css">
<!--    <link rel="stylesheet" href="css/main.css">-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        main {
            gap: 1rem;
        }

        .slider-container {
            width: 100%;
            overflow: hidden;
            /* background: #f0f0f0; */
            padding: 20px 0;
        }
        
        .slider-track {
            display: flex;
            animation: scroll 20s linear infinite;
        }
        
        .slider-track:hover {
            animation-play-state: paused;
        }
        
        .slider-item {
            flex: 0 0 20%;
            padding: 0 10px;
        }

        @media screen and (max-width: 810px) {
            .slider-item {
                flex-basis: 60%;
            }
        }

        @media screen and (max-width: 390px) {
            .slider-item {
                flex-basis: 100%;
            }
        }
        
        .slider-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            display: block;
        }
        
        @keyframes scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-100%);
            }
        }
        
        /* Для дублирования контента для бесшовной прокрутки */
        .slider-track::after {
            content: '';
            display: block;
            flex: 0 0 10px;
        }
    </style>
</head>
<body>
    <div id="header-placeholder"></div>

    <main>
        <h1>Добро пожаловать!</h1>

        <section class="text-section">
            <h2>Наша история</h2>
            <p>С 1897 года наша фабрика создает <strong>настоящее шоколадное искусство</strong>.
                Каждая плитка — это не просто десерт, а <em>тщательно выверенная композиция</em> вкуса,
                аромата и текстуры. Мы соединяем многовековые традиции <u>бельгийских мастеров</u>
                с инновациями и любовью к своему делу.</p>
            <p>Наш девиз: <cite>"Искусство, которое можно съесть!"</cite></p>
        </section>

        <div class="slider-container">
            <div class="slider-track">
                <!-- Первый набор изображений -->
                <div class="slider-item">
                    <img src="media/images/photo-1.jpg" alt="Изображение 1">
                </div>
                <div class="slider-item">
                    <img src="media/images/photo-2.jpg" alt="Изображение 2">
                </div>
                <div class="slider-item">
                    <img src="media/images/photo-3.jpg" alt="Изображение 3">
                </div>
                <div class="slider-item">
                    <img src="media/images/cacao-beans.jpg" alt="Изображение 4">
                </div>
                <div class="slider-item">
                    <img src="media/images/facts-4.jpg" alt="Изображение 5">
                </div>
                <!-- Дубликат для бесшовной прокрутки -->
                <div class="slider-item">
                    <img src="media/images/photo-1.jpg" alt="Изображение 1">
                </div>
                <div class="slider-item">
                    <img src="media/images/photo-2.jpg" alt="Изображение 2">
                </div>
                <div class="slider-item">
                    <img src="media/images/photo-3.jpg" alt="Изображение 3">
                </div>
                <div class="slider-item">
                    <img src="media/images/cacao-beans.jpg" alt="Изображение 4">
                </div>
                <div class="slider-item">
                    <img src="media/images/facts-4.jpg" alt="Изображение 5">
                </div>
            </div>
        </div>

        <section class="text-section">
            <h2 id="philosophy">Наша философия: Искусство в деталях</h2>
            <p><blockquote>"Шоколад — это не просто ингредиенты, это настроение, которое ты даришь людям." — Основатель фабрики, Пьер Дюшан.</blockquote></p>
            <aside>
                <p>Мы используем только <abbr title="Organic Certified">ORG</abbr> сертифицированные какао-бобы и тщательно контролируем весь процесс — от <i>фермы до упаковки</i>.</p>
            </aside>
        </section>

        <section class="text-section">
            <h2>Ассортимент, который вас удивит</h2>
            <p>Мы гордимся нашим разнообразием. Узнать больше о тонкостях производства вы можете на авторитетном ресурсе <a href="https://www.finechocolateindustry.org" target="_blank">Fine Chocolate Industry Association</a>.</p>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <div id="theme-toggle-placeholder"></div>
    <div id="scroll-to-top-button-placeholder"></div>
    <div id="notifications-button-placeholder"></div>

    <script src="./script/initialize-page.js"></script>

        <script>
        document.addEventListener('DOMContentLoaded', function() {
            const track = document.querySelector('.slider-track');
            const items = document.querySelectorAll('.slider-item');
            const itemWidth = items[0].offsetWidth;
            
            // Клонируем элементы для бесшовной прокрутки
            function cloneItems() {
                const itemsToClone = Array.from(items).slice(0, 5);
                itemsToClone.forEach(item => {
                    const clone = item.cloneNode(true);
                    track.appendChild(clone);
                });
            }
            
            function setupSlider() {
                // Устанавливаем начальную позицию
                track.style.transform = 'translateX(0)';
                
                // Запускаем анимацию
                let position = 0;
                const speed = 0.5; // пикселей за кадр
                
                function animate() {
                    position -= speed;
                    
                    // Когда прокрутили первый набор изображений
                    if (position <= -itemWidth * 5) {
                        position = 0;
                    }
                    
                    track.style.transform = `translateX(${position}px)`;
                    requestAnimationFrame(animate);
                }
                
                requestAnimationFrame(animate);
            }
            
            track.addEventListener('animationiteration', function() {
                // Сбрасываем позицию для бесшовного перехода
                this.style.transform = 'translateX(0)';
            });
            
            // Инициализация
            cloneItems();
            setupSlider();
            
            // Пауза при наведении
            track.addEventListener('mouseenter', function() {
                this.style.animationPlayState = 'paused';
            });
            
            track.addEventListener('mouseleave', function() {
                this.style.animationPlayState = 'running';
            });
        });
    </script>

</body>

</html>